<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%=title%></title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/b01fffd6e3.js"
      crossorigin="anonymous"
    ></script>
   
    <link href="https://fonts.googleapis.com/css?family=Archivo+Black&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/home.css" />
  </head>
  <body>
    <div id="container">
      <h1>TODO App</h1>
      <br>
      <!-- div banao uske undar input tags  -->
      <form action="/create-list" method="POST">
        <div class="description">
          <label id="label-desc">DESCRIPTION</label><br>
          <input type="text" placeholder="What do you need to do?" id="desc-input" name="task" required/>
        </div>
      <div id="choose">
        <!-- This is for dropdown -->
     <div class="category" >
         <p id="category-text">CATEGORY</p>
        <div id="dropdown">
          <select name="category" id="select" required>
            <option value="" disabled selected>Choose a category</option>
            <option value="Personal">Personal</option>
            <option value="Work">Work</option>
            <option value="Cleaning">Cleaning</option>
            <option value="Others">Others</option>
         </select>
       </div>
     </div>
        <div class="date">
          <label for="date" id="due-date">Due Date</label>
          <br>
          <input id="input-date" type="text" placeholder="dd/mm/yyyy" name="date" required/>
        </div>
      </div>
        <!-- This will contain add and delete btn -->
        <div class="final-btn">
          <button type="submit" class="task" onclick="getDropdownContent()">
            <i class="fa-solid fa-plus plus"></i>
            <span class="add-task">ADD TASK</span>
          </button>
          <!-- Delete button -->
          <button type="button" class="delete buttonDesign colorRed"  id="deleteButton"  onclick="handleDelete()">
            <i class="fa-solid fa-trash-can delete-logo"></i>
            <span class="delete-task">DELETE TASKS</span>
          </button>
        </div>
      </form>
     
      <!-- To make a display section -->
    <div id="details">
      <ul>
        <%for(let i of todo_list){%>
        <li>
          <div id="display">  
          <input type="checkbox" id="vehicle1" name="delechack" class="delechack" uid = <%= i._id %> />
            <label for="vehicle1" id="label-last">
              <div id="para1">
              <p class="p1" id=<%= i._id %>  uid = <%= i._id %>><%= i.task%></p>
              <div id="display-date">
                 <i class="fa-regular  fa-calendar-days calender"></i>
                 <p class="p2" id=<%= i._id + i.dueDate %>><%= i.date%></p>
              </div> 
            </div>
              <div id="para-<%= i._id%>" class="para <%= i.category%>">
               <p class="p3"><%= i.category%></p> 
            </div>
            </label>
          </div>
        </li>
        <%}%>
      </ul>
    </div>
    </div>

                             <!-- Link to add jquery to page. -->
     <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
     <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
     <script type="text/javascript" src="/js/home.js"></script>
  </body>
</html>
